# 基础概念

词素(lexeme)：语言的最基本单元。e.g.，run, ran, runing 都是单词，但是它们的词素都是 run。词法分析中分析出来的 token，可以理解成词素的种类，比如 `int a,b;` 中的 a 和 b，它们是不同的词素，但是是同一类的，token 均为 `Id`。相同 token 的词素在语法层面的作用是相同的。做语法分析时关注的是 token，而不是词素本身。

语法(syntax)：词素怎么组织成句子的规则，就是语法。

语义(semantic)：语法背后的实际含义。

文法(grammar)：表示语言中所有的语法规则，根据这个文法可以生成出所有可能的文本。

# 文法分析

代码范式：

```cpp
enum [id] { id, id, ... };
type [*] id;
type id ([type id, ...]) {
    statement;
}
```

具体代码：

```
enum abc { A, B, C };
char *a;
int main(int argc, int *argv) {
    printf("Hello world.\n");

    return 0;
}
```

# 递归下降算法大概流程

* `token = Int/Char/[指针]`，代表语法是函数或者全局变量。解析下一个词，`token` 必须为 `Id`。解析下一个词：
  * `token = '('`，代表语法是函数。转入 `parse_parameter`。解析下一个词， `token` 必须为 `')'`。解析下一个词，  `token` 必须为 `'{'`。转入  `parse_function`。解析下一个词，  `token` 必须为 `'}'`。
  * ......
* `token = Enum`，......

# 表达式解析

* 语句与表达式的区别：
  * 语句(statement)：不返回值
  * 表达式(expression)：返回值，赋值语句是一个赋值表达式，返回变量本身。
* 操作符优先级：一元操作符的优先级永远大于二元操作符。相同优先级大多是右结合。具体如下，数字越高，优先级越大：
  * 一元：1，2，3，4 的优先级几乎一样，看哪个符号更贴近要处理的对象

    1. `++, --`
    2. `+, -`
    3. `~, !`
    4. `&, *`
    5. `()`
  * 二元：

    1. `=`
    2. `?:`，`||, &&`
    3. `|, &, ^`
    4. `==, >, <, >=, <=, <<, >>`
    5. `+, -`
    6. `*, /, %`
    7. `[]`
*
